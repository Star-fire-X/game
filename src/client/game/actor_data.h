// =============================================================================
// Legend2 角色动作数据定义 (Actor Action Data)
//
// 功能说明:
//   - 定义角色动作帧信息结构 (ActionInfo)
//   - 定义人类角色动作配置 (HumanAction)
//   - 定义怪物角色动作配置 (MonsterAction)
//   - 提供预定义的动作配置常量
//
// 移植自原版 Actor.pas
// =============================================================================

#ifndef LEGEND2_ACTOR_DATA_H
#define LEGEND2_ACTOR_DATA_H

#include <cstdint>
#include <array>

namespace mir2::game {

// =============================================================================
// 常量定义 (Constants)
// =============================================================================

constexpr int HUMAN_FRAME = 600;        // 人类角色每套动作的帧数
constexpr int MON_FRAME = 280;          // 普通怪物每套动作的帧数
constexpr int EXPMON_FRAME = 360;       // 扩展怪物帧数(10帧基础)
constexpr int SCULMON_FRAME = 440;      // 雕塑类怪物帧数
constexpr int ZOMBI_FRAME = 430;        // 僵尸类怪物帧数
constexpr int MERCHANT_FRAME = 60;      // 商人NPC帧数

constexpr int MAX_DIRECTION = 8;        // 最大方向数(0-7)
constexpr int MAX_HAIR_STYLES = 20;     // 最大发型数量(1-20，0表示无头发)
constexpr int DEF_SPELL_FRAME = 10;     // 默认施法帧数

// 特效相关常量
constexpr int MAG_BUBBLE_BASE = 3890;           // 魔法护盾基础图像索引
constexpr int MAG_BUBBLE_STRUCK_BASE = 3900;    // 魔法护盾受击基础索引
constexpr int MAX_WP_EFFECT_FRAME = 5;          // 武器特效最大帧数
constexpr int WP_EFFECT_BASE = 3750;            // 武器特效基础图像索引

// 魔法特效图像索引常量 (参考magiceff.pas)
constexpr int MG_READY = 10;                    // 魔法准备阶段帧数
constexpr int MG_FLY = 6;                       // 魔法飞行阶段帧数
constexpr int MG_EXPLOSION = 10;                // 魔法爆炸阶段帧数
constexpr int READYTIME = 120;                  // 准备阶段持续时间(ms)
constexpr int EXPLOSIONTIME = 100;              // 爆炸阶段持续时间(ms)
constexpr int FIREGUN_FRAME = 6;                // 喷火效果帧数

constexpr int MAX_MAGIC = 10;                   // 最大魔法数量
constexpr int MAX_EFFECT = 36;                  // 最大魔法效果类型数量
constexpr int MAX_HIT_EFFECT = 6;               // 最大命中效果类型数量
constexpr int MAX_MAGIC_TYPE = 15;              // 最大魔法类型数量

constexpr int FLYBASE = 10;                     // 飞行效果图像基础偏移
constexpr int EXPLOSIONBASE = 170;              // 爆炸效果图像基础偏移

// 魔法效果图像索引数组 (EffectBase, 参考magiceff.pas)
constexpr std::array<int, MAX_EFFECT> EFFECT_BASE = {{
    0,     // 0  火焰掌
    200,   // 1  恢复术
    400,   // 2  金刚火焰掌
    600,   // 3  暗燃术
    0,     // 4  剑光
    900,   // 5  火焰风
    920,   // 6  火焰喷射
    940,   // 7  雷印掌
    20,    // 8  强击 (Magic2)
    940,   // 9  爆杀计
    940,   // 10 大地援护
    940,   // 11 大地援护魔
    0,     // 12 御剑术
    1380,  // 13 结界
    1500,  // 14 召唤术
    1520,  // 15 隐身术
    940,   // 16 大隐身
    1560,  // 17 电击
    1590,  // 18 瞬间移动
    1620,  // 19 地烈掌
    1650,  // 20 火焰爆炸
    1680,  // 21 大银河
    0,     // 22 半月剑法
    0,     // 23 烈火剑法
    0,     // 24 无极步
    3960,  // 25 探气破焰
    1790,  // 26 大恢复术
    0,     // 27 神兽召唤 (Magic2)
    3880,  // 28 咒术之幕
    3920,  // 29 狮子轮回
    3840,  // 30 冰雪风暴
    0,     // 31 魔法阵 (Mon21)
    40,    // 32 狂风斩 (Magic2)
    130,   // 33 灭天火 (Magic2)
    160,   // 34 无极真气 (Magic2)
    190    // 35 气功波 (Magic2)
}};

// 命中效果图像索引数组 (HitEffectBase, 参考magiceff.pas)
constexpr std::array<int, MAX_HIT_EFFECT> HIT_EFFECT_BASE = {{
    800,   // 0  御剑术命中效果
    1410,  // 1  御剑术命中效果(备用)
    1700,  // 2  半月剑法命中效果
    3480,  // 3  烈火剑法效果
    3390,  // 4  烈火剑法闪光
    40     // 5  狂风斩命中效果 (Magic2)
}};

// =============================================================================
// 动作信息结构 (Action Info)
// =============================================================================

/// 单个动作的帧信息
struct ActionInfo {
    uint16_t start;      ///< 起始帧索引
    uint16_t frame;      ///< 动作帧数量
    uint16_t skip;       ///< 跳过的帧数(用于对齐)
    uint16_t ftime;      ///< 每帧持续时间(毫秒)
    uint8_t  use_tick;   ///< 使用的tick数(仅用于移动动作)

    /// 计算指定方向和帧偏移的图像索引
    /// @param direction 方向(0-7)
    /// @param frame_offset 帧偏移(0 到 frame-1)
    /// @return 图像索引
    constexpr int get_frame_index(int direction, int frame_offset) const {
        return start + direction * (frame + skip) + frame_offset;
    }

    /// 获取动作总持续时间(毫秒)
    constexpr int get_duration() const {
        return frame * ftime;
    }
};

// =============================================================================
// 人类角色动作配置 (Human Action)
// =============================================================================

/// 人类角色的所有动作帧信息
struct HumanAction {
    ActionInfo act_stand;        ///< 站立动作
    ActionInfo act_walk;         ///< 行走动作
    ActionInfo act_run;          ///< 奔跑动作
    ActionInfo act_rush_left;    ///< 左冲刺动作
    ActionInfo act_rush_right;   ///< 右冲刺动作
    ActionInfo act_warmode;      ///< 战斗姿态
    ActionInfo act_hit;          ///< 普通攻击
    ActionInfo act_heavy_hit;    ///< 重击(挖矿)
    ActionInfo act_big_hit;      ///< 大招攻击
    ActionInfo act_fire_hit_ready; ///< 烈火准备
    ActionInfo act_spell;        ///< 施法动作
    ActionInfo act_sitdown;      ///< 坐下动作
    ActionInfo act_struck;       ///< 受击动作
    ActionInfo act_die;          ///< 死亡动作
};

/// 默认人类动作配置 (对应原版HA常量)
constexpr HumanAction HA = {
    {0,   4, 4, 200, 0},   // act_stand: 站立
    {64,  6, 2, 90,  2},   // act_walk: 行走
    {128, 6, 2, 120, 3},   // act_run: 奔跑
    {128, 3, 5, 120, 3},   // act_rush_left: 左冲刺
    {131, 3, 5, 120, 3},   // act_rush_right: 右冲刺
    {192, 1, 0, 200, 0},   // act_warmode: 战斗姿态
    {200, 6, 2, 85,  0},   // act_hit: 普通攻击
    {264, 6, 2, 90,  0},   // act_heavy_hit: 重击
    {328, 8, 0, 70,  0},   // act_big_hit: 大招
    {192, 6, 4, 70,  0},   // act_fire_hit_ready: 烈火准备
    {392, 6, 2, 60,  0},   // act_spell: 施法
    {456, 2, 0, 300, 0},   // act_sitdown: 坐下
    {472, 3, 5, 70,  0},   // act_struck: 受击
    {536, 4, 4, 120, 0}    // act_die: 死亡
};

// =============================================================================
// 怪物角色动作配置 (Monster Action)
// =============================================================================

/// 怪物角色的所有动作帧信息
struct MonsterAction {
    ActionInfo act_stand;     ///< 站立动作
    ActionInfo act_walk;      ///< 行走动作
    ActionInfo act_attack;    ///< 普通攻击
    ActionInfo act_critical;  ///< 暴击/特殊攻击
    ActionInfo act_struck;    ///< 受击动作
    ActionInfo act_die;       ///< 死亡动作
    ActionInfo act_death;     ///< 尸体/骷髅状态
};

// 怪物动作配置表 (对应原版 MA9-MA52)

/// MA9: 足球怪物
constexpr MonsterAction MA9 = {
    {0,  1, 7, 200, 0},   // stand
    {64, 6, 2, 120, 3},   // walk
    {64, 6, 2, 150, 0},   // attack
    {0,  0, 0, 0,   0},   // critical
    {64, 6, 2, 100, 0},   // struck
    {0,  1, 7, 140, 0},   // die
    {0,  1, 7, 0,   0}    // death
};

/// MA10: 鸡/狗类怪物(8帧基础)
constexpr MonsterAction MA10 = {
    {0,   4, 4, 200, 0},   // stand
    {64,  6, 2, 120, 3},   // walk
    {128, 4, 4, 150, 0},   // attack
    {0,   0, 0, 0,   0},   // critical
    {192, 2, 0, 100, 0},   // struck
    {208, 4, 4, 140, 0},   // die
    {272, 1, 0, 0,   0}    // death
};

/// MA11: 鹿类怪物(10帧基础)
constexpr MonsterAction MA11 = {
    {0,   4, 6, 200, 0},   // stand
    {80,  6, 4, 120, 3},   // walk
    {160, 6, 4, 100, 0},   // attack
    {0,   0, 0, 0,   0},   // critical
    {240, 2, 0, 100, 0},   // struck
    {260, 10, 0, 140, 0},  // die
    {340, 1, 0, 0,   0}    // death
};

/// MA12: 警卫兵类怪物
constexpr MonsterAction MA12 = {
    {0,   4, 4, 200, 0},   // stand
    {64,  6, 2, 120, 3},   // walk
    {128, 6, 2, 150, 0},   // attack
    {0,   0, 0, 0,   0},   // critical
    {192, 2, 0, 150, 0},   // struck
    {208, 4, 4, 160, 0},   // die
    {272, 1, 0, 0,   0}    // death
};

/// MA13: 食人花怪物
constexpr MonsterAction MA13 = {
    {0,   4, 6, 200, 0},   // stand
    {10,  8, 2, 160, 0},   // walk (出场动作)
    {30,  6, 4, 120, 0},   // attack
    {0,   0, 0, 0,   0},   // critical
    {110, 2, 0, 100, 0},   // struck
    {130, 10, 0, 120, 0},  // die
    {20,  9, 0, 150, 0}    // death (隐藏动作)
};

/// MA14: 骷髅类怪物(骷髅武士/骷髅精灵等)
constexpr MonsterAction MA14 = {
    {0,   4, 6, 200, 0},   // stand
    {80,  6, 4, 160, 3},   // walk
    {160, 6, 4, 100, 0},   // attack
    {0,   0, 0, 0,   0},   // critical
    {240, 2, 0, 100, 0},   // struck
    {260, 10, 0, 120, 0},  // die
    {340, 10, 0, 100, 0}   // death (召唤白骨)
};

/// MA19: 牛面鬼类怪物
constexpr MonsterAction MA19 = {
    {0,   4, 6, 200, 0},   // stand
    {80,  6, 4, 160, 3},   // walk
    {160, 6, 4, 100, 0},   // attack
    {0,   0, 0, 0,   0},   // critical
    {240, 2, 0, 100, 0},   // struck
    {260, 10, 0, 140, 0},  // die
    {340, 1, 0, 140, 0}    // death
};

/// MA50: NPC基础动作
constexpr MonsterAction MA50 = {
    {0,  4, 6, 200, 0},   // stand
    {0,  0, 0, 0,   0},   // walk (无)
    {30, 10, 0, 150, 0},  // attack (交互动作)
    {0,  0, 0, 0,   0},   // critical
    {0,  1, 9, 0,   0},   // struck (无)
    {0,  0, 0, 0,   0},   // die (无)
    {0,  0, 0, 0,   0}    // death (无)
};

// =============================================================================
// 武器绘制顺序表 (Weapon Drawing Order)
// =============================================================================

/// 武器绘制顺序数组
/// 0 = 武器在前(先绘制武器后绘制身体)
/// 1 = 武器在后(先绘制身体后绘制武器)
/// [0] = 男性, [1] = 女性
constexpr std::array<std::array<uint8_t, 600>, 2> WEAPON_ORDER = {{
    // 男性角色武器绘制顺序
    {{
        // 站立 (0-63)
        0,0,0,0,0,0,0,0,  1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,0,0,0,0,0,0,  0,0,0,0,1,1,1,1,
        0,0,0,0,1,1,1,1,  0,0,0,0,1,1,1,1,
        // 行走 (64-127)
        0,0,0,0,0,0,0,0,  1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,0,0,0,0,0,0,  0,0,0,0,0,0,0,1,
        0,0,0,0,0,0,0,1,  0,0,0,0,0,0,0,1,
        // 奔跑 (128-191)
        0,0,0,0,0,0,0,0,  1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,1,1,1,1,1,1,  0,0,1,1,1,0,0,1,
        0,0,0,0,0,0,0,1,  0,0,0,0,0,0,0,1,
        // 战斗姿态 (192-199)
        0,1,1,1,0,0,0,0,
        // 攻击 (200-263)
        1,1,1,0,0,0,1,1,  1,1,1,0,0,0,0,0,  1,1,1,0,0,0,0,0,
        1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,  1,1,1,0,0,0,0,0,
        0,0,0,0,0,0,0,0,  1,1,1,1,0,0,1,1,
        // 攻击2 (264-327)
        0,1,1,0,0,0,1,1,  0,1,1,0,0,0,1,1,  1,1,1,0,0,0,0,0,
        1,1,1,0,0,1,1,1,  1,1,1,1,1,1,1,1,  0,1,1,1,1,1,1,1,
        0,0,0,1,1,1,0,0,  0,1,1,1,1,0,1,1,
        // 攻击3 (328-391)
        1,1,0,1,0,0,0,0,  1,1,0,0,0,0,0,0,  1,1,1,1,1,0,0,0,
        1,1,0,0,1,0,0,0,  1,1,1,0,0,0,0,1,  0,1,1,0,0,0,0,0,
        0,0,0,0,1,1,1,0,  1,1,1,1,1,0,0,0,
        // 施法 (392-455)
        0,0,0,0,0,0,1,1,  0,0,0,0,0,0,1,1,  0,0,0,0,0,0,1,1,
        1,0,0,0,0,1,1,1,  1,1,1,1,1,1,1,1,  0,1,1,1,1,1,1,1,
        0,0,1,1,0,0,1,1,  0,0,0,1,0,0,1,1,
        // 坐下 (456-471)
        0,0,1,0,1,1,1,1,  1,1,0,0,0,1,0,0,
        // 受击 (472-535)
        0,0,0,1,1,1,1,1,  1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,0,1,1,1,1,1,  0,0,0,1,1,1,1,1,
        0,0,0,1,1,1,1,1,  0,0,0,1,1,1,1,1,
        // 死亡 (536-599)
        0,0,1,1,1,1,1,1,  0,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,0,1,1,1,1,1,  0,0,0,1,1,1,1,1,
        0,0,0,1,1,1,1,1,  0,0,0,1,1,1,1,1
    }},
    // 女性角色武器绘制顺序 (与男性相同)
    {{
        // 站立 (0-63)
        0,0,0,0,0,0,0,0,  1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,0,0,0,0,0,0,  0,0,0,0,1,1,1,1,
        0,0,0,0,1,1,1,1,  0,0,0,0,1,1,1,1,
        // 行走 (64-127)
        0,0,0,0,0,0,0,0,  1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,0,0,0,0,0,0,  0,0,0,0,0,0,0,1,
        0,0,0,0,0,0,0,1,  0,0,0,0,0,0,0,1,
        // 奔跑 (128-191)
        0,0,0,0,0,0,0,0,  1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,1,1,1,1,1,1,  0,0,1,1,1,0,0,1,
        0,0,0,0,0,0,0,1,  0,0,0,0,0,0,0,1,
        // 战斗姿态 (192-199)
        1,1,1,1,0,0,0,0,
        // 攻击 (200-263)
        1,1,1,0,0,0,1,1,  1,1,1,0,0,0,0,0,  1,1,1,0,0,0,0,0,
        1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,  1,1,1,0,0,0,0,0,
        0,0,0,0,0,0,0,0,  1,1,1,1,0,0,1,1,
        // 攻击2 (264-327)
        0,1,1,0,0,0,1,1,  0,1,1,0,0,0,1,1,  1,1,1,0,0,0,0,0,
        1,1,1,0,0,1,1,1,  1,1,1,1,1,1,1,1,  0,1,1,1,1,1,1,1,
        0,0,0,1,1,1,0,0,  0,1,1,1,1,0,1,1,
        // 攻击3 (328-391)
        1,1,0,1,0,0,0,0,  1,1,0,0,0,0,0,0,  1,1,1,1,1,0,0,0,
        1,1,0,0,1,0,0,0,  1,1,1,0,0,0,0,1,  0,1,1,0,0,0,0,0,
        0,0,0,0,1,1,1,0,  1,1,1,1,1,0,0,0,
        // 施法 (392-455)
        0,0,0,0,0,0,1,1,  0,0,0,0,0,0,1,1,  0,0,0,0,0,0,1,1,
        1,0,0,0,0,1,1,1,  1,1,1,1,1,1,1,1,  0,1,1,1,1,1,1,1,
        0,0,1,1,0,0,1,1,  0,0,0,1,0,0,1,1,
        // 坐下 (456-471)
        0,0,1,0,1,1,1,1,  1,1,0,0,0,1,0,0,
        // 受击 (472-535)
        0,0,0,1,1,1,1,1,  1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,0,1,1,1,1,1,  0,0,0,1,1,1,1,1,
        0,0,0,1,1,1,1,1,  0,0,0,1,1,1,1,1,
        // 死亡 (536-599)
        0,0,1,1,1,1,1,1,  0,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,
        1,1,1,1,1,1,1,1,  0,0,0,1,1,1,1,1,  0,0,0,1,1,1,1,1,
        0,0,0,1,1,1,1,1,  0,0,0,1,1,1,1,1
    }}
}};

// =============================================================================
// 颜色特效类型 (Color Effect)
// =============================================================================

/// 颜色特效枚举
enum class ColorEffect : uint8_t {
    NONE = 0,       ///< 无特效
    BRIGHT,         ///< 高亮(被选中)
    GREEN,          ///< 绿色(绿毒)
    RED,            ///< 红色(红毒)
    BLUE,           ///< 蓝色
    YELLOW,         ///< 黄色
    FUCHSIA,        ///< 紫红(麻痹)
    GRAYSCALE       ///< 灰度(石化/死亡)
};

// =============================================================================
// 角色动作类型 (Actor Action)
// =============================================================================

/// 角色动作类型枚举
enum class ActorAction : uint16_t {
    NONE = 0,
    STAND,          ///< 站立
    WALK,           ///< 行走
    RUN,            ///< 奔跑
    RUSH,           ///< 冲刺
    BACKSTEP,       ///< 后退
    TURN,           ///< 转向
    HIT,            ///< 普通攻击
    HEAVY_HIT,      ///< 重击
    BIG_HIT,        ///< 大招
    POWER_HIT,      ///< 强力攻击
    LONG_HIT,       ///< 远程攻击
    WIDE_HIT,       ///< 范围攻击
    FIRE_HIT,       ///< 烈火攻击
    CROSS_HIT,      ///< 十字攻击
    SPELL,          ///< 施法
    STRUCK,         ///< 受击
    DIE,            ///< 死亡
    DEATH,          ///< 尸体状态
    SITDOWN,        ///< 坐下
    THROW,          ///< 投掷
    DIGUP,          ///< 从地下钻出
    ALIVE           ///< 复活
};

// =============================================================================
// 魔法类型 (Magic Type)
// =============================================================================

/// 魔法特效类型枚举 (对应 magiceff.pas 的 TMagicType)
enum class MagicType : uint8_t {
    READY = 0,              ///< 准备阶段
    FLY,                    ///< 飞行阶段
    EXPLOSION,              ///< 爆炸阶段
    FLY_AXE,                ///< 飞斧效果
    FIRE_WIND,              ///< 火风效果
    FIRE_GUN,               ///< 喷火效果
    LIGHTING_THUNDER,       ///< 闪电雷击
    THUNDER,                ///< 雷击效果
    EXPLO_BUJAUK,           ///< 爆炸符咒
    BUJAUK_GROUND_EFFECT,   ///< 符咒地面效果
    KYUL_KAI,               ///< 结界效果
    FLY_ARROW,              ///< 飞箭效果
    FIRE_BALL,              ///< 火球效果
    GROUND_EFFECT,          ///< 地面持续效果
    FIRE_THUNDER            ///< 火雷效果
};

/// 魔法使用信息结构 (对应 magiceff.pas 的 TUseMagicInfo)
struct UseMagicInfo {
    int32_t server_magic_code = 0;     ///< 服务器魔法代码
    int32_t magic_serial = 0;          ///< 魔法序列号
    int32_t target = 0;                ///< 目标识别码
    MagicType effect_type = MagicType::READY;  ///< 魔法类型
    int32_t effect_number = 0;         ///< 效果编号(索引EffectBase数组)
    int32_t targ_x = 0;                ///< 目标X坐标(屏幕坐标)
    int32_t targ_y = 0;                ///< 目标Y坐标(屏幕坐标)
    bool    recursion = false;         ///< 是否循环播放
    int32_t ani_time = 0;              ///< 动画持续时间(ms)
};

// =============================================================================
// 角色种族类型 (Actor Race)
// =============================================================================

/// 角色种族类型
enum class ActorRace : uint8_t {
    HUMAN = 0,              ///< 人类玩家
    SOCCER_BALL = 9,        ///< 足球
    CHICKEN_DOG = 10,       ///< 鸡/狗类
    DEER = 11,              ///< 鹿类
    GUARD = 12,             ///< 警卫
    KILLER_HERB = 13,       ///< 食人花
    SKELETON_OMA = 14,      ///< 骷髅类
    DUAL_AXE_OMA = 15,      ///< 投掷斧头类
    GAS_KUDEGI = 16,        ///< 喷毒类
    CAT_MON = 17,           ///< 猫怪/牛面鬼
    HUSUABI = 18,           ///< 许殊亚比
    COW_FACE = 19,          ///< 牛面鬼
    FIRE_COW_FACE = 20,     ///< 火牛面鬼
    COW_FACE_KING = 21,     ///< 牛面鬼王
    DARK_SPITTER = 22,      ///< 暗黑喷射者
    WHITE_SKELETON = 23,    ///< 召唤白骨
    SUPERIOR_GUARD = 24,    ///< 高级警卫

    WINGED_30 = 30,         ///< 翅膀怪物30
    WINGED_31 = 31,         ///< 翅膀怪物31
    SCORPION = 32,          ///< 蝎子(双攻击动作)
    CENTIPEDE_KING = 33,    ///< 蜈蚣王/触龙神
    BIG_HEART = 34,         ///< 赤月魔/心脏
    SPIDER_HOUSE = 35,      ///< 爆眼蜘蛛
    EXPLOSION_SPIDER = 36,  ///< 爆走蜘蛛
    FLYING_SPIDER = 37,     ///< 飞行蜘蛛

    ZOMBI_LIGHTING = 40,    ///< 电击僵尸
    ZOMBI_DIGOUT = 41,      ///< 钻地僵尸
    ZOMBI_ZILKIN = 42,      ///< 僵尸
    BEE_QUEEN = 43,         ///< 蜂后
    ARCHER_MON = 45,        ///< 射手怪物
    SCULPTURE = 47,         ///< 石像(羊大将)
    SCULPTURE_48 = 48,      ///< 石像48
    SCULPTURE_KING = 49,    ///< 祝马王

    NPC = 50,               ///< NPC
    GAS_52 = 52,            ///< 毒虫52
    GAS_53 = 53,            ///< 毒虫53
    SMALL_ELF = 54,         ///< 小精灵
    WARRIOR_ELF = 55,       ///< 战士精灵

    ELECTRONIC_SCORPION = 60, ///< 雷血蛇
    BOSS_PIG = 61,          ///< 王豚
    KING_SCULPTURE_KING = 62, ///< 祝马本王
    SKELETON_KING = 63,     ///< 骷髅本王
    DECAY_GHOST = 64,       ///< 腐蚀鬼
    SAMURAI = 65,           ///< 武士
    SKELETON_SOLDIER_66 = 66, ///< 骷髅兵66
    SKELETON_SOLDIER_67 = 67, ///< 骷髅兵67
    SKELETON_SOLDIER_68 = 68, ///< 骷髅兵68
    SKELETON_ARCHER = 69,   ///< 骷髅射手
    BANYA_GUARD_R = 70,     ///< 般若右使
    BANYA_GUARD_L = 71,     ///< 般若左使
    SIAU_KING = 72,         ///< 四大天王

    WALL_STRUCTURE = 98,    ///< 城墙
    CASTLE_DOOR = 99        ///< 城门
};

// =============================================================================
// 辅助函数 (Helper Functions)
// =============================================================================

/// 根据种族和外观获取怪物动作配置
/// @param race 种族类型
/// @param appearance 外观索引
/// @return 怪物动作配置指针，如果不支持则返回nullptr
const MonsterAction* get_monster_action(ActorRace race, int appearance = 0);

/// 根据角色状态获取颜色特效
/// @param state 角色状态位掩码
/// @param is_focused 是否被选中
/// @return 颜色特效类型
ColorEffect get_color_effect_from_state(uint32_t state, bool is_focused);

} // namespace mir2::game

#endif // LEGEND2_ACTOR_DATA_H
